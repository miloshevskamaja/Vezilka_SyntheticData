##  Опис

Овој проект содржи код за генерирање **синтетички текстуални податоци
на македонски јазик**, добиени од табеларни податоци за **населени места и општини
во Република Македонија**.

Во овој проект се применуваат:
- **шаблонски (template-based) методи** за гарантирање јазична чистота и точност,
- **графови на знаење (knowledge graphs)** за воведување контролирана
структурна и дискурзивна разновидност,
- **KGAST (Knowledge Graph–Augmented Self-Training)** пристап

## Извор на податоци

Влезните податоци се табеларни записи кои содржат:
- назив на населено место (`naseleno_mesto`),
- тип на населено место (`tip_naseleno_mesto`, на пр. село или град),
- општина (`opstina`),
- административни идентификатори.

Податоците потекнуваат од официјални статистички и административни извори www.stat.gov.mk.

## Методологија за генерирање

### 1. Шаблонско (Template-Based) генерирање

Шаблонскиот пристап користи однапред дефинирани реченични структури
за претворање на табеларните податоци во јасни и граматички точни
реченици на македонски јазик.

Пример:
Во општина „Штип“ се наоѓа селото „Врсаково“.
„Врсаково“ е село кое е дел од општина „Штип“

Овој пристап обезбедува:
- текст без халуцинации,
- целосна фактолошка точност,
- конзистентна терминологија.

### 2. Генерирање со графови на знаење (Knowledge Graph–Based)

Од истите табеларни податоци се конструира **граф на знаење**,
претставен преку тројки како:
- `(НаселеноМесто, е_тип, Тип)`,
- `(НаселеноМесто, припаѓа_на, Општина)`,
- `(Општина, има_населено_место, НаселеноМесто)`.

Со вербализација на подграфови (multi-hop релации) се добиваат
покомплексни текстуални примери со:
- инверзни релации,
- повеќе ентитети во контекст,
- подобра дискурзивна поврзаност.

Пример:
„Врсаково“ е село во општина „Штип“.
Во истата општина се наоѓа и селото „Хаџи-хамзали“.

### 3. KGAST (Knowledge Graph–Augmented Self-Training)
KGAST (Knowledge Graph–Augmented Self-Training) е pipeline за генерирање висококвалитетни синтетички податоци од Knowledge Graph со помош на голем јазичен модел (LLM). Пристапот комбинира контролирана генерација, self-consistency и автоматска валидација со цел да се минимизираат халуцинации и да се обезбеди фактолошка коректност.

KGAST овозможува две излезни форми на податоци од ист KG:
- KG → Text (SFT data) за дотренирање на јазични модели
- KG → IE data (NER + RE) за задачи за извлекување информации


## Формат на излезните податоци

Финалниот синтетички корпус е во **JSONL формат**.

Пример:
```json
{
"prompt": "Населено место: Врсаково\nТип: село\nОпштина: Штип\nНапиши две фактолошки реченици на македонски.",
"completion": "Во општина „Штип“ се наоѓа селото „Врсаково“.\n„Врсаково“ е село кое е дел од општина „Штип“.",
"meta": {"source": "template"}
}

{
"prompt": "Населено место: Врсаково\nТип: село\nОпштина: Штип\nНапиши две фактолошки реченици на македонски.",
"completion": "„Врсаково“ е село во општина „Штип“.\nВо истата општина се наоѓа и селото „Хаџи-хамзали“.",
"meta": {"source": "kg"}
}
```

 **SFT излез (KG -> Text):**
 ```json
{
"prompt": "Напиши 2–4 кохерентни реченици на македонски кои ги вклучуваат сите факти од тројките.\nНе додавај нови факти или ентитети.\n\nТројки:\n(\"Заграчани\", \"е_тип\", \"село\")\n(\"Заграчани\", \"припаѓа_на\", \"Струга\")\n(\"Струга\", \"има_населено_место\", \"Заграчани\")\n(\"Струга\", \"има_населено_место\", \"Радолишта\")\n(\"Радолишта\", \"припаѓа_на\", \"Струга\")\n(\"Радолишта\", \"е_тип\", \"село\")\n\nТекст:",
  "completion": "Селото „Заграчани“ се наоѓа во општина „Струга“. Општина „Струга“ го опфаќа населеното место „Заграчани“ и исто така вклучува и „Радолишта“. „Радолишта“ е село кое припаѓа на општина „Струга“.",
  "meta": {
    "coverage": 1.0,
    "unknown_entity_ratio": 0.0,
    "vote_pick": "C"
  }
}
```

**IE излез (KG -> Information Extraction)**
```json
{
  "text": "Селото „Фалиш“ е дел од општина „Тетово“. Општина „Тетово“ има две населени места, „Фалиш“ и „Сараќино“, од кои и двете припаѓаат на истата општина.",
  "annotations": {
    "entities": [
      {"text": "Фалиш", "kg_id": "Фалиш", "type": "LOC"},
      {"text": "Тетово", "kg_id": "Тетово", "type": "LOC"},
      {"text": "Сараќино", "kg_id": "Сараќино", "type": "LOC"}
    ],
    "relations": [
      {"head": "Фалиш", "relation": "е_тип", "tail": "село"},
      {"head": "Фалиш", "relation": "припаѓа_на", "tail": "Тетово"},
      {"head": "Тетово", "relation": "има_населено_место", "tail": "Фалиш"},
      {"head": "Тетово", "relation": "има_населено_место", "tail": "Сараќино"},
      {"head": "Сараќино", "relation": "припаѓа_на", "tail": "Тетово"},
      {"head": "Сараќино", "relation": "е_тип", "tail": "село"}
    ]
  },
  "meta": {
    "coverage": 1.0,
    "unknown_entity_ratio": 0.0
  }
}
```


##  Структура на репозиториумот
mk-settlements-synthetic-data/

├── data/ # Влезна скрипта за генерирање податоци (CSV)

├── result/ # Излезни податоци (JSONL)

├── notebooks/ # Експеримент

└── README.md
